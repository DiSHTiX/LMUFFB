lmuFFB - Le Mans Ultimate Force Feedback
========================================

See README.md for full documentation with images and links.


===============================================================================
!!!                    CRITICAL SAFETY WARNING                             !!!
===============================================================================

BEFORE USING THIS APPLICATION, YOU MUST CONFIGURE YOUR STEERING WHEEL DEVICE 
DRIVER:

This is an EXPERIMENTAL EARLY ALPHA VERSION of a force feedback application. 
The FFB formulas are still being refined and MAY PRODUCE STRONG FORCE SPIKES 
AND OSCILLATIONS that could be dangerous or damage your equipment.

REQUIRED SAFETY STEPS (DO THIS FIRST):

1. BEFORE running LMU and lmuFFB, open your wheelbase/steering wheel device 
   driver configurator (e.g., Simucube TrueDrive, Fanatec Control Panel, 
   Moza Pit House, etc.)

2. Reduce the Maximum FFB Strength/Torque to a LOW value:
   - For Direct Drive Wheelbases: Set to 10% OR LOWER of maximum torque
   - For Belt/Gear-Driven Wheels: Set to 20-30% of maximum strength

3. Increase gradually the values while monitoring for unexpected behavior

===============================================================================


DOWNLOAD
--------

Download the latest release from GitHub:
https://github.com/coasting-nc/LMUFFB/releases


INSTALLATION & CONFIGURATION (LMU 1.2+)
---------------------------------------

Step-by-Step Setup:

!!! STEP 0: Reduce Wheel Strength FIRST (CRITICAL) !!!

1. BEFORE doing anything else, open your wheel device driver 
   (Simucube TrueDrive, Fanatec Control Panel, Moza Pit House, etc.)

2. Reduce Maximum FFB Strength/Torque:
   - Direct Drive Wheels: Set to 10% or lower
   - Belt/Gear Wheels: Set to 20-30%

3. Save the settings and keep the driver software open for adjustments

A. Configure Le Mans Ultimate (LMU)
   1. Start LMU
   2. Go to Settings > Graphics:
      - Set Display Mode to "Borderless" (Prevents crashes/minimizing)
   
   3. Go to Controls / Bindings
   4. Steering Axis: Bind to your Physical Wheel 
      (e.g., Simucube, Fanatec, Moza, Logitech)

   5. In-Game Force Feedback settings in LMU:
      - FFB Strength: reduce to 0% (Off)
      - Effects: Set "Force Feedback Effects" to Off
      - Smoothing: Set to 0 (Raw)
      - Advanced: Set "Collision Strength" and "Steering Torque Sensitivity" 
        to 0%
      - Tweaks: Disable "Use Constant Steering Force Effect"

B. Configure lmuFFB
   1. Run LMUFFB.exe
   2. FFB Device: In the dropdown, select your Physical Wheel 
      (e.g., "Simucube 2 Pro", "Fanatec DD1")
   3. Master Gain: Start low (0.5) and increase
   4. Drive! You should feel force feedback generated by the app


EXPERIMENTAL VERSION - TESTING NEEDED!
--------------------------------------

This is an experimental release, the FFB formulas may require refinement 
based on real-world testing.

Please help us improve lmuFFB:
1. Test with caution - Start with low wheel strength settings (see Safety 
   Warning above)
2. Experiment with settings - Try different effect combinations and gains
3. Share your results - Post screenshots of the "Troubleshooting Graphs" 
   window and the main app window to the LMU Forum Thread:
   https://community.lemansultimate.com/index.php?threads/irffb-for-lmu-lmuffb.10440/
4. Report issues - Let us know what works and what doesn't!

Your testing and feedback is greatly appreciated!


TROUBLESHOOTING
---------------

Inverted FFB (Force pushes away from center):
  - If the FFB feels "backwards" or "inverted" while driving (wheel pushes 
    away from center instead of pulling toward it), check the "Invert FFB" 
    checkbox in the lmuFFB GUI
  - This reverses the force direction to match your wheel's expected behavior

FFB Too Strong / Dangerous Forces:
  - IMMEDIATELY reduce the maximum FFB strength in your wheel device driver 
    (Simucube TrueDrive, Fanatec Control Panel, Moza Pit House, etc.)
  - Set to 10% or lower for direct drive wheels, 20-30% for belt/gear wheels
  - Do this BEFORE running LMU and lmuFFB again
  - Then adjust the "Gain" slider in lmuFFB to fine-tune

No FFB:
  - Ensure the "FFB Device" in lmuFFB is your real wheel
  - Check if the Shared Memory is working (Does "Connected to Le Mans 
    Ultimate" appear in the GUI?)
  - Verify the FFB strength in your device driver is not too low


LMU 1.2+ SUPPORT (v0.4.0+)
--------------------------

Enhanced Telemetry Access:
With Le Mans Ultimate 1.2 (released December 9th, 2024), the game now includes 
native shared memory support. lmuFFB v0.4.0+ fully supports LMU 1.2's new 
interface, providing access to:
- Patch Velocities - Allows physics-based texture generation
- Steering Shaft Torque - Direct torque measurement for accurate FFB

Note: Tire Load and Grip Fraction data are blocked from telemetry due to 
licensing restrictions. lmuFFB automatically uses estimated values for these 
parameters (see Known Issues section below).

No Plugin Required:
Unlike previous versions, LMU 1.2 has built-in shared memory - no external 
plugins needed!


KNOWN ISSUES (v0.4.2+)
---------------------

LMU 1.2 MISSING TELEMETRY DATA (LICENSING RESTRICTION):

Expected Warnings on Startup:

When you start lmuFFB with LMU 1.2, you will see console warnings like:
- [WARNING] Missing Tire Load data detected
- [WARNING] Missing Grip Fraction data detected

This is expected and NOT a bug in lmuFFB or LMU. This is a known specification 
limitation - LMU is intentionally returning zero (0) for all tire load and 
grip fraction values due to licensing restrictions that prevent the release 
of such data via telemetry, even though the shared memory interface includes 
these fields.

Impact:
- lmuFFB has automatic fallback logic that detects this and uses estimated 
  values instead
- FFB will still work, but some effects (like load-sensitive textures and 
  grip-based understeer) will use approximations instead of real data
- You can safely ignore these warnings - they confirm the fallback system 
  is working


UPCOMING FEATURES
-----------------

* Wet Weather Haptics (Hydro-Grain): vibration cues telling when the tires 
  are on dry or wet surface, and if there is grip or not
* Per wheel Hydro-Grain to give information about a drying racing line 
  (e.g., left tires on dry, right tires on wet)
* Adaptive Optimal Slip Angle
* "ABS Rattle" (Pulsing)
* Longitudinal Dynamic Weight Transfer: feeling of the car getting heavy 
  under braking and light under acceleration


FEEDBACK & SUPPORT
------------------

For feedback, questions, or support:
- LMU Forum Thread: 
  https://community.lemansultimate.com/index.php?threads/irffb-for-lmu-lmuffb.10440/
- GitHub Issues: 
  https://github.com/coasting-nc/LMUFFB/issues


For full documentation, advanced settings, and developer information, 
see README.md or visit: https://github.com/coasting-nc/LMUFFB


===============================================================================
RFACTOR 2 COMPATIBILITY
===============================================================================

Note: rFactor 2 is NOT SUPPORTED in v0.4.0+. For rFactor 2, please use 
earlier versions of lmuFFB (v0.3.x). See the releases page for v0.3.x 
downloads:
https://github.com/coasting-nc/LMUFFB/releases

rF2 will be supported again in a future version, in particular to compare 
our grip approximation algorithm with the real values returned by the game 
for non DLC cars.
