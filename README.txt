LMUFFB - Le Mans Ultimate Force Feedback
========================================
Version: 0.3.7

See README.md for full documentation with images and links.

PREREQUISITES
-------------
1. vJoy Driver (Version 2.1.9.1 recommended)
   Download: https://github.com/jshafer817/vJoy/releases
   
   Why vJoy? LMU needs a "dummy" device to bind steering to, so it doesn't 
   try to send its own FFB to your real wheel while LMUFFB is controlling it.
   
   Configuration:
   - Open "Configure vJoy" tool
   - Set up Device 1 with at least X Axis enabled
   - Disable all vJoy FFB Effects EXCEPT "Constant Force"
   - Click Apply

2. rF2 Shared Memory Plugin (rFactor2SharedMemoryMapPlugin64.dll)
   Download from one of these sources:
   - https://github.com/TheIronWolfModding/rF2SharedMemoryMapPlugin#download
   - Bundled with CrewChief: https://thecrewchief.org/
   
   Installation:
   - Copy rFactor2SharedMemoryMapPlugin64.dll to "Le Mans Ultimate/Plugins/" folder
   - Note: LMU does not have an in-game menu to enable plugins. It is enabled 
     automatically if the file is present.

3. vJoyInterface.dll (Required for LMUFFB to run)
   This DLL MUST be in the same folder as LMUFFB.exe
   
   Download from:
   - C:\Program Files\vJoy\SDK\lib\amd64\ (if you installed vJoy SDK)
   - https://github.com/shauleiz/vJoy/tree/master/SDK/lib/amd64/vJoyInterface.dll


STEP-BY-STEP SETUP
------------------

A. Configure Le Mans Ultimate (LMU)
   1. Start LMU
   2. Go to Settings > Graphics:
      - Set Display Mode to "Borderless" (Prevents crashes/minimizing)
   
   3. Go to Controls / Bindings
   4. Steering Axis - Choose ONE method:
      
      METHOD A (Recommended - Requires Feeder):
      - Bind to "vJoy Device (Axis X)"
      - IMPORTANT: You MUST use a feeder tool to map your physical wheel to vJoy:
        * vJoy Feeder (bundled with vJoy installation)
        * Joystick Gremlin
        * Mojo
      - Tip: Move the vJoy slider in vJoy Feeder to help LMU detect it
      - Why? This guarantees LMU sends FFB to vJoy (Dummy) and not your 
        real wheel, preventing "Double FFB" conflicts.
      
      METHOD B (Experimental - No Feeder):
      - Bind to your Physical Wheel directly
      - Risk: LMU might take exclusive control of the wheel's FFB, causing 
        "Double FFB" or blocking LMUFFB.
   
   5. Force Feedback Settings:
      - Type: Set to "None" (if available) or reduce FFB Strength to 0% / Off
      - Note: LMU may not have a "None" option; reducing strength to 0 is 
        the workaround.
      - Smoothing: Set to 0 (Raw) for fastest telemetry updates

B. Configure LMUFFB (The App)
   1. Run LMUFFB.exe
   2. FFB Device: Select your Physical Wheel (e.g., "Simucube 2 Pro", "Fanatec DD1")
      - Do NOT select the vJoy device here
   3. Master Gain: Start low (0.5) and increase gradually
   4. SOP Effect: Start at 0.0
      - This effect injects lateral G-force
      - On High-Torque wheels (DD), this can cause violent oscillation if too high
   5. Drive! You should feel force feedback generated by the app


TROUBLESHOOTING
---------------

Wheel Jerking / Fighting:
  - You likely have a "Double FFB" conflict
  - Ensure LMU Steering is bound to vJoy, NOT your real wheel
  - Ensure LMU FFB is sending to vJoy (or disabled/strength at 0)
  - If the wheel oscillates on straights, reduce SOP Effect to 0.0

No Steering (Car won't turn):
  - If you bound LMU Steering to vJoy, you need a Feeder app
  - Open "vJoy Feeder" (installed with vJoy)
  - Select your physical wheel and ensure it moves the vJoy axis

No FFB:
  - Ensure "FFB Device" in LMUFFB is your real wheel
  - Check if Shared Memory Plugin is working (console should show "Connected")
  - Verify the plugin DLL is in Le Mans Ultimate/Plugins/ folder

"vJoyInterface.dll not found":
  - Copy vJoyInterface.dll to the same folder as LMUFFB.exe
  - Get it from: C:\Program Files\vJoy\SDK\lib\amd64\
  - Or download: https://github.com/shauleiz/vJoy/tree/master/SDK/lib/amd64/vJoyInterface.dll

"Could not open file mapping object":
  - Start LMU and load a track first
  - The Shared Memory Plugin only activates when driving


KNOWN ISSUES (v0.3.7)
---------------------
- Telemetry Gaps: Some users report missing telemetry for Dashboard apps 
  (ERS, Temps). LMUFFB has robust fallbacks, but if Tire Temperature data 
  is broken, the Understeer effect may be static.


For full documentation, advanced settings, and developer information, 
see README.md or visit: https://github.com/coasting-nc/LMUFFB
