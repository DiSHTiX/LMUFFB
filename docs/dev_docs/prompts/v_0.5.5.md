
Please proceed with the following task:

**Task: Implement Dynamic Window Resizing ("Smart Container") and Layout Persistence**

**Reference Documents:**
*   `docs\dev_docs\Dear ImGui improvements.md` (Contains the detailed technical report and code snippets for this implementation)
*   `src\GuiLayer.cpp`
*   `src\Config.h`
*   `src\Config.cpp`
*   `tests\test_windows_platform.cpp`

**Context:**
Currently, the application starts with a fixed window size. When the user enables the "Graphs" (Debug Window), the content overflows, forcing the user to manually resize the OS window. We want to implement a "Smart Container" behavior where the OS window automatically expands to a saved "Large" size when graphs are enabled, and contracts to a saved "Small" size when disabled. Additionally, the ImGui windows inside should automatically dock to fill the available space without floating borders.

**Implementation Requirements:**

1.  **Configuration Persistence (`src/Config.h` & `src/Config.cpp`)**:
    *   Add static variables to store window geometry: `win_pos_x`, `win_pos_y`, `win_w_small`, `win_h_small`, `win_w_large`, `win_h_large`.
    *   Add a static boolean `show_graphs` to persist the toggle state.
    *   Initialize them with sensible defaults (Small: ~500x800, Large: ~1400x800).
    *   Update `Config::Save` and `Config::Load` to persist these values to `config.ini`.

2.  **GUI Layer Logic (`src/GuiLayer.cpp`)**:
    *   **Helpers**: Implement `ResizeWindow(HWND, ...)` using `SetWindowPos` and `SaveCurrentWindowGeometry(bool is_graph_mode)` using `GetWindowRect`.
    *   **Initialization**: Update `GuiLayer::Init` to create the window using the saved position and the size corresponding to `Config::show_graphs`.
    *   **Shutdown**: Update `GuiLayer::Shutdown` to call `SaveCurrentWindowGeometry` before closing, ensuring the last used size/position is remembered.
    *   **Tuning Window**:
        *   Modify `DrawTuningWindow` to lock the ImGui window to the left side (using `SetNextWindowPos`/`Size` and `ImGuiWindowFlags_NoDecoration`).
        *   Implement the Checkbox Logic: When "Graphs" is toggled, save the *current* window dimensions to the *old* state variable, update the boolean, and then resize the OS window to the *new* state variable.
    *   **Debug Window**:
        *   Modify `DrawDebugWindow` to lock the ImGui window to the right side, filling the remaining viewport space.

3.  **Testing (`tests\test_windows_platform.cpp`)**:
    *   Add a new test function `test_window_config_persistence`.
    *   **Logic**:
        1.  Set specific values for `win_w_small`, `win_w_large`, and `show_graphs`.
        2.  Save to a temporary `.ini` file.
        3.  Reset the variables to defaults.
        4.  Load from the temporary file.
        5.  Assert that the values match the specific values set in step 1.
    *   *Note:* We cannot easily test the actual Win32 `SetWindowPos` behavior in a headless CI environment, so focus on ensuring the *state management* and *persistence* logic is robust.

**Deliverables:**
*   Modified `src/Config.h` and `src/Config.cpp`
*   Modified `src/GuiLayer.cpp`
*   Modified `tests\test_windows_platform.cpp`

**Check-list for completion:**
- [ ] `Config` class stores and persists window geometry for both "Small" and "Large" states.
- [ ] `GuiLayer::Init` restores the window to the correct size/position on startup.
- [ ] Toggling the "Graphs" checkbox automatically resizes the OS window.
- [ ] ImGui windows (Config and Graphs) are docked/locked to the OS window (no title bars or borders).
- [ ] Closing the app saves the current window position and size.
- [ ] `test_window_config_persistence` passes in the test suite.