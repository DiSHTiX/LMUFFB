Please proceed with the following task:

**Task: Implement Predictive Lockup, ABS Haptics, and Advanced Braking Physics (Batch 2)**

**Reference Documents:**
*   `docs\dev_docs\lockup vibration fix3.md` (Contains the detailed technical report and implementation plan for Batch 2)
*   `FFBEngine.h`
*   `src/Config.h` & `src/Config.cpp`
*   `src/GuiLayer.cpp`

**Context:**
This is "Batch 2" of the Braking FFB overhaul.
*   **Batch 1 (Likely already implemented):** Fixed rear lockup detection, fixed manual slip sign, split load caps (`m_brake_load_cap`), and created the "Braking & Lockup" GUI section.
*   **Batch 2 (This Task):** Focuses on **Latency Reduction** via Predictive Logic (Angular Deceleration) and **Physical Fidelity** via ABS simulation and Pressure-based scaling.

**Implementation Requirements:**

1.  **Physics Engine (`FFBEngine.h`)**:
    *   **State Tracking:** Add `prevRotation` (per wheel) and `prevBrakePressure` (per wheel) to track derivatives.
    *   **Predictive Logic (Hybrid Thresholding):**
        *   Calculate Angular Deceleration ($\alpha_{wheel}$).
        *   Implement **Gating**: Only predict if `Brake > 2%`, `SuspForce > 50N` (Not Airborne), and `SuspVelocity < Threshold` (Bump Rejection).
        *   Implement **Trigger**: If wheel decelerates significantly faster than chassis (Relative) AND exceeds `m_lockup_prediction_sens` (Absolute), dynamically lower the slip threshold to `m_lockup_start_pct` to trigger vibration early.
    *   **Vibration Gamma:** Apply `std::pow(severity, m_lockup_gamma)` to the normalized slip severity (replacing the hardcoded quadratic curve if present).
    *   **ABS Haptics:** Detect rapid `mBrakePressure` oscillation while pedal is steady. Inject a 20Hz pulse if detected.
    *   **Pressure Scaling:** Change Lockup Amplitude scaling to use `mBrakePressure` instead of `mUnfilteredBrake` (Pedal). Handle engine braking fallback.

2.  **Configuration (`src/Config.h` & `src/Config.cpp`)**:
    *   Add new variables to `Preset` struct: `lockup_gamma` (default 2.0), `lockup_prediction_sens` (default 50.0), `lockup_bump_reject` (default 1.0), `abs_pulse_enabled` (default true), `abs_gain` (default 1.0).
    *   Update `Save`, `Load`, `Apply`, and `UpdateFromEngine` to persist these new keys.

3.  **GUI Layer (`src/GuiLayer.cpp`)**:
    *   **Check Existing Structure:** The "Braking & Lockup" section likely exists. **Do not duplicate it.** Append the new controls inside it.
    *   **Add Controls:**
        *   **Response Curve:** Slider for `m_lockup_gamma` (0.5 - 3.0).
        *   **Prediction (Advanced):** New subsection with sliders for `Sensitivity` (20-100) and `Bump Rejection` (0.1-5.0 m/s).
        *   **ABS & Hardware:** New subsection with `ABS Pulse` checkbox and `Pulse Gain` slider.

**Deliverables:**
*   Modified `FFBEngine.h`
*   Modified `src/Config.h` and `src/Config.cpp`
*   Modified `src/GuiLayer.cpp`
*   Updated `CHANGELOG.md`
*   Updated `VERSION`

**Check-list for completion:**
- [ ] `FFBEngine.h`: Implemented `calculate_angular_acceleration` and Hybrid Thresholding logic.
- [ ] `FFBEngine.h`: Implemented ABS Pulse detection and Pressure-based amplitude scaling.
- [ ] `Config`: Added persistence for Gamma, Prediction Sensitivity, Bump Rejection, and ABS settings.
- [ ] `GuiLayer`: Added new sliders to the existing "Braking & Lockup" section (Gamma, Prediction, ABS).
- [ ] Verified that existing Batch 1 features (Split Caps, Rear Boost) are preserved.