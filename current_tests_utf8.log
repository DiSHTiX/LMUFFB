
--- FFTEngine Regression Suite ---

Test: Regression - Road Texture Toggle Spike
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] No spike on enable. Force: 0.005

Test: Regression - Bottoming Method Switch Spike
[PASS] No spike on method switch.

Test: Regression - Rear Torque LPF Continuity
[PASS] LPF was running in background. Force: -0.3

Test: Stress Stability (Fuzzing)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Front) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Rear) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
[PASS] Survived 1000 iterations of random input.

Test: Scrub Drag Fade-In
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] Scrub drag faded correctly (50%).

Test: Road Texture Teleport (Delta Clamp)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Teleport spike clamped.

Test: Grip Approximation Low Speed Cutoff
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Low speed grip forced to 1.0.

Test: SoP Yaw Kick (v0.4.18 Smoothed)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] Yaw Kick first frame smoothed correctly (-0.025 Ôëê -0.025).

Test: Stationary Signal Gate
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force approx 0.0
[PASS] force approx 0.0
[PASS] force approx 0.005

Test: Automatic Idle Smoothing
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Idle vibration attenuated (Max: 0.119883 < 0.15)
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Driving vibration passed through (Max: 0.55 > 0.4)

Test: Speed Gate Custom Thresholds
[PASS] Default upper threshold is 5.0 m/s (18 km/h).
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force approx 0.0025

Test: Zero Input
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] force approx 0.0

Test: Suspension Bottoming (Fix Verification)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Bottoming effect active. Force: 0.05

Test: Grip Modulation (Understeer)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] force_full approx 0.5
[PASS] force_half approx 0.25

Test: SoP Effect
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspForce from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Front) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Rear) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[WARNING] mVerticalTireDeflection is missing for car: . (Likely Encrypted/DLC Content). Road Texture fallback active.
[PASS] force approx 0.125

Test: Min Force
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] force approx 0.10

Test: Progressive Lockup
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] std::abs(force_low) > 0.00001
[PASS] engine.m_lockup_phase != 0.0
[PASS] Progressive Lockup calculated.

Test: Slide Texture (Front & Rear)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Front slip triggers Slide Texture (Force: 0.0492)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Rear slip triggers Slide Texture (Force: 0.0045)

Test: Dynamic Tuning (GUI Simulation)
[PASS] force_initial approx 0.5
[PASS] force_boosted approx 1.0
[PASS] force_grip_loss approx 0.25
[PASS] Dynamic Tuning verified.

Test: Lateral G Boost (Slide)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mLateralForce (Front) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force approx 1.0

Test: Phase Wraparound (Anti-Click)
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspForce from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[WARNING] mVerticalTireDeflection is missing for car: . (Likely Encrypted/DLC Content). Road Texture fallback active.
[PASS] Phase wrapped 40 times without discontinuity.

Test: Road Texture State Persistence
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force2 approx force1
[PASS] Road texture state preserved correctly.

Test: Multi-Effect Interaction (Lockup + Spin)
[PASS] Multiple effects coexist without interference.

Test: Load Factor Edge Cases
[PASS] force_airborne approx 0.0
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Load factor clamped correctly.

Test: Spin Torque Drop with SoP
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mLateralForce (Front) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Rear) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Spin torque drop modifies total force.

Test: Rear Grip Fallback (v0.4.5)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Rear grip approximation triggered.
[PASS] Lateral G Boost (Slide) correctly suppressed (Rear Grip restored).

Test: Telemetry Sanity Checks
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Detected missing load warning.
[PASS] Load fallback applied (Force generated: 0.0260187)
[PASS] Detected missing grip warning.
[PASS] force_grip approx 0.1
[PASS] Diagnostics confirm front approximation.
[PASS] engine.m_grip_diag.front_original approx 0.0
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] Detected bad DeltaTime warning.

Test: Hysteresis Logic (Missing Data)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] engine.m_missing_load_frames == 0
[PASS] Hysteresis counter incrementing (5).
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
[PASS] Hysteresis counter incrementing (25).
[PASS] Hysteresis triggered fallback (Warning set).
[PASS] Hysteresis counter decrementing on recovery.

Test: Configuration Presets
[Config] Applied preset: Test: SoP Only
[PASS] Preset applied correctly (Gain=1, SoP=0.08)

Test: Config Save/Load Persistence
[Config] Loading config version: 0.7.3
[Config] Loaded from test_config.ini
[PASS] engine_load.m_gain approx 1.23f
[PASS] engine_load.m_sop_effect approx 0.45f
[PASS] engine_load.m_road_texture_gain approx 1.5f
[PASS] Boolean persistence.

Test: Channel Stats Logic
[PASS] stats.session_min approx 10.0
[PASS] stats.session_max approx 30.0
[PASS] stats.Avg() approx 20.0
[PASS] Interval Stats Reset.
[PASS] stats.session_min approx 10.0
[PASS] stats.session_max approx 30.0
[PASS] stats.Avg() approx 0.0

Test: Game State Logic (Mock)
[PASS] Player missing -> False.
[PASS] InRealtime=False -> False.
[PASS] InRealtime=True -> True.

Test: SoP Smoothing Step Response
[PASS] Smoothing Step 1 correct (0.00238095, small positive).
Warning: Data for mLateralForce (Front) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Rear) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Smoothing settled to steady-state (0.0496379, near 0.05).

Test: Universal Bottoming
[PASS] Bottoming Method A (Scrape) Triggered. Force: 0.025
[PASS] Bottoming Method B (Spike) Triggered. Force: -0.225

Test: Built-in Preset Fidelity (v0.6.30 Refinement)
[PASS] Default: fields verified correctly
[PASS] T300: fields verified correctly (Including v0.6.30 optimizations)
[PASS] GT3 DD 15 Nm (Simagic Alpha): fields verified correctly
[PASS] LMPx/HY DD 15 Nm (Simagic Alpha): fields verified correctly
[PASS] GM DD 21 Nm (Moza R21 Ultra): fields verified correctly
[PASS] GM + Yaw Kick DD 21 Nm (Moza R21 Ultra): fields verified correctly
[PASS] Test: Game Base FFB Only: fields verified correctly
[PASS] Test: SoP Only: fields verified correctly
[PASS] Test: Understeer Only: fields verified correctly
[PASS] Test: Yaw Kick Only: fields verified correctly
[PASS] Test: Textures Only: fields verified correctly
[PASS] Test: Rear Align Torque Only: fields verified correctly
[PASS] Test: SoP Base Only: fields verified correctly
[PASS] Test: Slide Texture Only: fields verified correctly
[PASS] All 14 built-in presets have correct field initialization

Test: Snapshot Data Integrity (v0.4.7)
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Raw Front Tire Load captured as 0.0.
[PASS] Calculated Front Load is 1300.0.
[PASS] Raw Throttle captured.
[PASS] Raw Ride Height captured (Min).
[PASS] Calc Front Grip is 1.0.
[PASS] Calc Rear Grip is 0.5.
[PASS] raw_front_deflection captured (Renamed field).

Test: Snapshot Data v0.4.9 (Rear Physics)
[PASS] raw_front_long_patch_vel correct.
[PASS] raw_rear_lat_patch_vel correct.
[PASS] raw_rear_long_patch_vel correct.
[PASS] raw_rear_slip_angle correct.

Test: Rear Force Workaround (v0.4.10)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Rear torque snapshot correct (-24.2529 Nm, counter-steering).

Test: Rear Align Effect Decoupling (v0.4.11)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Rear Force Workaround active. Value: -0.13788 Nm
[PASS] Rear Align Effect active and decoupled (Boost 0.0). Value: -17.3235

Test: Kinematic Load Braking (+Z Accel)
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Front Load Increased under Braking (Approx 4516.71 N)

Test: Combined Friction Circle
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Grip dropped due to Longitudinal Slip (0.2)

Test: SoP Yaw Kick Direction (v0.4.20)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] Yaw Kick provides counter-steer (Negative Force: -1)

Test: Zero Effects Leakage (No Ghost Forces)
[PASS] Zero leakage verified (Force = 0.0).

Test: Base Force Modes & Gain (v0.4.13)
[PASS] Native Mode: Correctly attenuated (0.25).
[PASS] Synthetic Mode: Constant force applied (0.5).
[PASS] Synthetic Mode: Deadzone respected.
[PASS] Muted Mode: Output is zero.

Test: Gyroscopic Damping (v0.4.17)
[PASS] Gyro force opposes steering movement (negative: -22.9871)
[PASS] Gyro force is non-zero (magnitude: 22.9871)
[PASS] Gyro force reverses with steering direction (positive: 0.56066)
[PASS] Gyro force scales with speed (slow: -2.24534 vs fast: -22.9871)

Test: Yaw Acceleration Smoothing (v0.4.18)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] First frame smoothed to 10% of raw input (-0.25 ~= -0.25).
[PASS] Second frame accumulated correctly (-0.475 ~= -0.475).
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
[PASS] High-frequency noise rejected (max force 0 < 0.5).

Test: Yaw Acceleration Convergence (v0.4.18)
[WARNING] Invalid DeltaTime (<=0). Using default 0.0025s.
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Converged to steady-state after 50 frames (-0.248712 ~= -0.25).
Warning: Data for mSuspForce from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[WARNING] mVerticalTireDeflection is missing for car: . (Likely Encrypted/DLC Content). Road Texture fallback active.
[PASS] Smoothly decaying after step change (-0.22384).

Test: Regression - Yaw/Slide Feedback Loop (v0.4.18)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] No feedback loop detected (max force 0 < 1.0).
[PASS] Average force remains low (avg 0 < 0.5).
[PASS] System settled after noise removed (final force 0).

Test: Yaw Kick Signal Conditioning (v0.4.42)
  Case 1: Idle Noise (YawAccel = 0.1, below threshold)
[PASS] Idle noise filtered (force = 0 ~= 0.0).
  Case 2: Low Speed (YawAccel = 5.0, Speed = 1.0 m/s)
[PASS] Low speed cutoff active (force = 0 ~= 0.0).
  Case 3: Valid Kick (YawAccel = 5.0, Speed = 20.0 m/s)
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Valid kick detected (force = -1).

Test: Coordinate System - SoP Inversion (v0.4.19)
Warning: Data for mLateralForce (Front) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Rear) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] SoP pulls LEFT in right turn (force: 0.5)
[PASS] SoP pulls RIGHT in left turn (force: -0.5)

Test: Coordinate System - Rear Torque Inversion (v0.4.19)
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Rear torque provides counter-steer LEFT (force: -0.3)
Warning: Data for mSuspForce from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[WARNING] mVerticalTireDeflection is missing for car: . (Likely Encrypted/DLC Content). Road Texture fallback active.
[PASS] Rear torque provides counter-steer RIGHT (force: 0.3)

Test: Coordinate System - Scrub Drag Direction (v0.4.19/v0.4.20)
[PASS] Scrub drag opposes left slide (Torque Left: -0.25)
[PASS] Scrub drag opposes right slide (Torque Right: 0.25)

Test: Coordinate System - Debug Slip Angle Sign (v0.4.19)
[PASS] Front slip angle is POSITIVE for left slide (0.244979 rad)
[PASS] Front slip angle is NEGATIVE for right slide (-0.244979 rad)
[PASS] Rear slip angle is POSITIVE for left slide (0.244979 rad)
[PASS] Rear slip angle is NEGATIVE for right slide (-0.244979 rad)

Test: Regression - No Positive Feedback Loop (v0.4.19)
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspForce from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Front) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Rear) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[WARNING] mVerticalTireDeflection is missing for car: . (Likely Encrypted/DLC Content). Road Texture fallback active.
[PASS] Combined forces are stabilizing (net left pull: 1)
[PASS] SoP component is Positive (10)
[PASS] Rear torque is Positive (6)
[PASS] Scrub drag is Positive (5)
\nTest: Coordinate System - All Effects Alignment (Snap Oversteer)
[PASS] Effects Component Check Passed.

Test: Regression - Phase Explosion (All Oscillators)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] All oscillator phases wrapped correctly during stutter.

Test: Time Corrected Smoothing (v0.4.37)
Fast Yaw (400Hz): 0 Slow Yaw (50Hz): 0
[PASS] Smoothing is consistent across frame rates.

Test: Gyro Stability (Clamp Check)
[PASS] Gyro stable with negative smoothing.

Test: Chassis Inertia Smoothing Convergence (v0.4.39)
[PASS] Smoothing converged (X: 9.81, Z: 9.81)
[PASS] Smoothing decayed correctly (X: 1.74985e-70, Z: 1.74985e-70)

Test: Kinematic Load Cornering (Lateral Transfer v0.4.39)
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Left wheel has more load in right turn (FL: 3827.97N, FR: 1427.97N)
[PASS] Lateral transfer magnitude reasonable (2400N)
Warning: Data for mSuspForce from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Front) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mLateralForce (Rear) from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[WARNING] mVerticalTireDeflection is missing for car: . (Likely Encrypted/DLC Content). Road Texture fallback active.
[PASS] Right wheel has more load in left turn (FR: 3827.97N, FL: 1427.97N)

Test: Notch Filter Attenuation (v0.4.41)
[PASS] Notch Filter attenuated target frequency (Max Amp: 0.0025723)
[PASS] Notch Filter passed off-target frequency (Max Amp: 0.997725)

Test: Frequency Estimator (v0.4.41)
Warning: Data for mTireLoad from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). Using Kinematic Fallback.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspForce from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[WARNING] mVerticalTireDeflection is missing for car: . (Likely Encrypted/DLC Content). Road Texture fallback active.
[PASS] Frequency Estimator converged to 19.6715 Hz (Target: 20)

Test: Static Notch Integration (v0.4.43)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspForce from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[WARNING] mVerticalTireDeflection is missing for car: . (Likely Encrypted/DLC Content). Road Texture fallback active.
[PASS] Static Notch attenuated 11Hz signal (Max Amp: 0.00019666)
[PASS] Static Notch passed 20Hz signal (Max Amp: 0.815767)

Test: FFB Signal Gain Compensation (Decoupling)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Rear Align Torque correctly compensated (0 == 0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Slide Texture correctly compensated (0 == 0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Understeer Modifier correctly uncompensated (0.4 vs 0.2)
[SUMMARY] Gain Compensation verified for all effect types.

Test: Config Safety Clamping (v0.4.50)
[Config] Loaded from tmp_unsafe_config_test.ini
[PASS] All legacy high-gain values correctly clamped to safe maximums.

Test: Grip Threshold Sensitivity (v0.5.7)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Sensitive car (0.06) lost more grip at 0.07 slip than GT3 car (0.12).

Test: Steering Shaft Smoothing (v0.5.7)
[PASS] Shaft Smoothing delayed the step input (Frame 1: 0.166667).
[PASS] Shaft Smoothing converged correctly (Frame 11: 0.865412).

Test: Config Defaults (v0.5.7)
[PASS] 'Always on Top' is ENABLED by default.

Test: Config Safety Validation (v0.5.7)
[Config] Loaded from tmp_invalid_grip_config_test.ini
[PASS] Invalid optimal_slip_angle (0.0) reset to safe default (0.10).
[PASS] Invalid optimal_slip_ratio (0.0) reset to safe default (0.12).
[PASS] Valid config values still loaded correctly (gain=1.5).
[Config] Loaded from tmp_invalid_grip_config_test.ini
[PASS] Very small values (<0.01) correctly reset to defaults.
[SUMMARY] All division-by-zero protections working correctly.

Test: Rear Lockup Differentiation
[PASS] Front lockup triggered. Phase delta: 2.56354
[PASS] Rear lockup triggered. Phase delta: 0.769062
[PASS] Rear frequency is lower (Ratio: 0.3 vs expected 0.3).

Test: High Gain Stability (Max Ranges)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Engine stable at 200% Gain and 10.0 ABS Gain.

Test: ABS Frequency Scaling
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] delta_phase_40 approx delta_phase_20 * 2.0

Test: Lockup Pitch Scaling
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] delta_2 approx delta_1 * 2.0

Test: Split Load Caps (Brake vs Texture)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Road texture correctly clamped to 1.0x (Force: 0.05)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Brake load cap applies 3x scaling (Ratio: 2.99726, High: 0.327837, Low: 0.109279)

Test: Dynamic Lockup Thresholds
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] No trigger below 5% start.
[PASS] std::abs(force_mid) > 0.0
[PASS] Force increases with slip depth.

Test: Predictive Lockup (v0.6.0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Predictive trigger activated at 10% slip (Phase: 2.56354)

Test: ABS Pulse Detection (v0.6.0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] ABS Pulse triggered (Force: -0.00627905)

Test: Missing Telemetry Warnings (v0.6.3)
[PASS] Grip warning triggered with car name.
[PASS] SuspForce warning triggered with car name.
[PASS] Vertical Deflection warning triggered.

Test: Notch Filter Bandwidth (v0.6.10)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] max_output < 0.1
[PASS] max_output < 0.4
[PASS] max_output > 0.1
[PASS] max_output > 0.2

Test: Yaw Kick Threshold (v0.6.10)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force_low approx 0.0
[PASS] std::abs(force_high) > 0.01

Test: Notch Filter Edge Cases (v0.6.10)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] max_output_narrow < 0.6
[PASS] max_output_narrow > 0.3
[PASS] max_output_wide > 0.05
[PASS] max_output_narrow < 0.7

Test: Yaw Kick Threshold Edge Cases (v0.6.10)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] std::abs(force_tiny) > 0.001
[PASS] force_below_max approx 0.0
[PASS] std::abs(force_above_max) > 0.01
[PASS] std::abs(force_negative) > 0.01
[PASS] force_negative_below approx 0.0
[PASS] force_low_speed approx 0.0

Test: Optimal Slip Buffer Zone (v0.6.28/v0.6.31)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force approx 1.0

Test: Progressive Loss Curve (v0.6.28/v0.6.31)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] f10 approx 1.0
[PASS] f10 > f12 && f12 > f14

Test: Grip Floor Clamp
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force approx 0.2

Test: Understeer Output Clamp (v0.6.28/v0.6.31)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force approx 0.0

Test: Understeer Range Validation
[PASS] engine.m_understeer_effect >= 0.0f
[PASS] engine.m_understeer_effect <= 2.0f

Test: Understeer Effect Scaling
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] f0 > f1 && f1 > f2

Test: Legacy Config Migration
[PASS] migrated approx 0.5f
[PASS] migrated approx 1.5f

Test: Preset 'Test: Understeer Only' Isolation (v0.6.31)
[PASS] p.understeer > 0.0f && p.understeer <= 2.0f
[PASS] p.sop approx 0.0f
[PASS] p.oversteer_boost approx 0.0f
[PASS] p.rear_align_effect approx 0.0f
[PASS] p.sop_yaw_gain approx 0.0f
[PASS] p.gyro_gain approx 0.0f
[PASS] p.scrub_drag_gain approx 0.0f
[PASS] p.slide_enabled == false
[PASS] p.road_enabled == false
[PASS] p.spin_enabled == false
[PASS] p.lockup_enabled == false
[PASS] p.abs_pulse_enabled == false
[PASS] p.optimal_slip_angle approx 0.10f
[PASS] p.optimal_slip_ratio approx 0.12f
[PASS] p.base_force_mode == 0
[PASS] p.speed_gate_lower approx 0.0f
[PASS] p.speed_gate_upper approx 0.0f
[PASS] 'Test: Understeer Only' preset properly isolates understeer effect

Test: All Presets Have Non-Negative Speed Gate Values (v0.6.32)
[PASS] All 22 presets have valid non-negative speed gate values

Test: Stationary Silence (Base Torque & SoP Gating)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force approx 0.0

Test: Driving Forces Restored
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] std::abs(force) > 0.1

Test: Refactor Regression - ABS Pulse (v0.6.36)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] ABS Pulse generated force: -0.00627905

Test: Refactor Regression - Torque Drop (v0.6.36)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] Torque Drop correctly isolated from Textures (Force: 0.37 Expected: 0.37)

Test: Refactor Regression - Snapshot SoP (v0.6.36)
[PASS] Snapshot values correct (SoP: 10, Boost: 10)

Test Unit: calculate_sop_lateral
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] calculate_sop_lateral base logic.

Test Unit: calculate_gyro_damping
[PASS] calculate_gyro_damping logic.

Test Unit: calculate_abs_pulse
[PASS] calculate_abs_pulse triggered.

Test: calculate_wheel_slip_ratio Helper (v0.6.36)
[PASS] slip approx 0.2

Test: apply_signal_conditioning Helper (v0.6.36)
[PASS] result approx 10.0

Test: Unconditional m_prev_vert_accel Update (v0.6.36)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] m_prev_vert_accel updated unconditionally: 5.5
[PASS] m_prev_vert_accel tracks changes: -3.2

Test: Slope Detection Buffer Initialization (v0.7.0)
[PASS] engine.m_slope_buffer_count == 0
[PASS] engine.m_slope_buffer_index == 0
[PASS] engine.m_slope_current == 0.0

Test: Savitzky-Golay Derivative Calculation (v0.7.0)
[PASS] derivative approx 10.0

Test: Slope Grip at Peak (Zero Slope) (v0.7.0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] engine.m_slope_current approx 0.0
[PASS] engine.m_slope_smoothed_output >= 0.95

Test: Slope Grip Past Peak (Negative Slope) (v0.7.0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] engine.m_slope_current <= -5.0
[PASS] engine.m_slope_smoothed_output <= 0.9
[PASS] engine.m_slope_smoothed_output >= 0.2

Test: Slope vs Static Comparison (v0.7.0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
  Slope Grip: 0.22332 | Static Grip: 0.518554
[PASS] snap_slope.calc_front_grip <= 0.95
[PASS] snap_static.calc_front_grip <= 0.8

Test: Slope Config Persistence (v0.7.0)
[Config] Loading config version: 0.7.3
[Config] Loaded from test_slope_config.ini
[PASS] engine_load.m_slope_detection_enabled == true
[PASS] engine_load.m_slope_sg_window == 21
[PASS] engine_load.m_slope_sensitivity approx 2.5f
[PASS] engine_load.m_slope_negative_threshold approx -0.2f
[PASS] engine_load.m_slope_smoothing_tau approx 0.05f

Test: Slope Latency Characteristics (v0.7.0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] engine.m_slope_buffer_count == window
  Calculated Latency for Window 15 at 400Hz: 17.5 ms
[PASS] latency_ms approx 17.5

Test: Slope Noise Rejection (v0.7.0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
  Noisy Slope: 0
[PASS] std::abs(engine.m_slope_current) < 1.0

Test: Slope Buffer Reset on Toggle (v0.7.0)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] engine.m_slope_buffer_count == 0
[PASS] engine.m_slope_buffer_index == 0
[PASS] engine.m_slope_smoothed_output approx 1.0
  [PASS] Buffers reset correctly on toggle
[PASS] engine.m_slope_buffer_count == 5
  [PASS] Buffer refilling after reset (5 samples)
[PASS] engine.m_slope_buffer_count == 5
  [PASS] Disabling does not reset buffers

Test: Slope Detection - No Boost When Grip Balanced (v0.7.1)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] front_grip < 0.95
[PASS] snap.oversteer_boost approx 0.0

Test: Slope Detection - No Boost During Oversteer (v0.7.1)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] snap.oversteer_boost approx 0.0

Test: Lateral G Boost works without Slope Detection (v0.7.1)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] snap.oversteer_boost > 0.01

Test: Slope Detection Default Values (v0.7.1)
[PASS] engine.m_slope_sensitivity approx 0.5f
[PASS] engine.m_slope_negative_threshold approx -0.3f
[PASS] engine.m_slope_smoothing_tau approx 0.04f

Test: Slope Current in Snapshot (v0.7.1)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] snap.slope_current approx (float)engine.m_slope_current
[PASS] std::abs(snap.slope_current) > 0.001

Test: Slope Detection Less Aggressive (v0.7.1)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] engine.m_slope_current approx -1.0
[PASS] engine.m_slope_smoothed_output > 0.9

Test: Smoothstep Helper Function (v0.7.2)
[PASS] at_lower approx 0.0
[PASS] at_upper approx 1.0
[PASS] at_mid approx 0.5
[PASS] at_25 approx 0.15625
[PASS] at_75 approx 0.84375

Test: Smoothstep vs Linear Comparison (v0.7.2)
[PASS] smooth_25 < 0.25
[PASS] smooth_75 > 0.75

Test: Smoothstep Edge Cases (v0.7.2)
[PASS] below approx 0.0
[PASS] above approx 1.0
[PASS] negative approx 0.0
[PASS] zero_range == 0.0 || zero_range == 1.0
[PASS] tiny_range >= 0.0 && tiny_range <= 1.0

Test: Speed Gate Uses Smoothstep (v0.7.2)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] ratio < 0.4

Test: Smoothstep Stationary Silence (v0.7.2)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] force approx 0.0

Test: Slope Decay on Straight (v0.7.3)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
  Slope after cornering: 10.1235
[PASS] std::abs(slope_after_corner) > 0.1
  Slope after 200ms straight: 0
[PASS] std::abs(slope_after_straight) < std::abs(slope_after_corner)
[PASS] std::abs(slope_after_straight) < 0.2
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
  Slope after 600ms straight: 0
[PASS] slope_final approx 0.0

Test: Slope dAlpha Threshold Configurable (v0.7.3)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] std::abs(engine.m_slope_current) < 0.5f
[PASS] std::abs(engine.m_slope_current) > 1.0

Test: Slope Confidence Gate (v0.7.3)
[PASS] confidence approx 1.0
[PASS] confidence approx 0.2

Test: Slope Stability Config Persistence (v0.7.3)
[Config] Loading config version: 0.7.3
[Config] Loaded from test_stability.ini
[PASS] engine2.m_slope_alpha_threshold approx 0.035f
[PASS] engine2.m_slope_decay_rate approx 8.5f
[PASS] engine2.m_slope_confidence_enabled == false

Test: No Understeer on Straight (v0.7.3)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mSuspensionDeflection from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] engine.m_slope_current approx 0.0
[PASS] engine.m_slope_smoothed_output >= 0.95

Test: Slope Decay Rate Boundaries (v0.7.3)
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
Warning: Data for mGripFract from the game seems to be missing for this car (). (Likely Encrypted/DLC Content). A fallback estimation will be used.
[PASS] std::abs(decayed_fast) < std::abs(decayed_slow)

Test: Slope Alpha Threshold Validation (v0.7.3)
[Config] Loading config version: 0.7.3
[Config] Loaded from test_val.ini
[PASS] engine.m_slope_alpha_threshold approx 0.02f
[Config] Loading config version: 0.7.3
[Config] Loaded from test_val.ini
[PASS] engine.m_slope_alpha_threshold approx 0.02f

--- Physics Engine Test Summary ---
Tests Passed: 301
Tests Failed: 0

=== Running v0.6.25 Persistence Tests ===
Test 1: Texture Load Cap in Presets...
[Config] Applied preset: TextureCapTest
Test 2: Main Config - Speed Gate Persistence...
[Config] Loading config version: 0.7.3
[Config] Loaded from test_config_sg.ini
Test 3: Main Config - Road Fallback & Understeer SoP...
[Config] Loading config version: 0.7.3
[Config] Loaded from test_config_ap.ini
Test 4: Preset Serialization - All New Fields...
[Config] Applied preset: AllFieldsTest
Test 5: Preset Clamping - Brake Load Cap...
[Config] Applied preset: HighBrake
Test 6: Preset Clamping - Lockup Gain...
[Config] Applied preset: HighLockup
Test 7: Main Config Clamping - Brake Load Cap...
[Config] Loaded from test_clamp.ini
[Config] Loaded from test_clamp.ini
[Config] Loaded from test_clamp.ini
Test 8: Main Config Clamping - Lockup Gain...
[Config] Loaded from test_clamp.ini
[Config] Loaded from test_clamp.ini
Test 9: Configuration Versioning...
[Config] Loading config version: 0.7.3
[Config] Loaded from test_version.ini
Test 10: Comprehensive Round-Trip Test...
[Config] Loading config version: 0.7.3
[Config] Loaded from roundtrip.ini
[Config] Applied preset: RoundTrip
Test 11: Preset-Engine Synchronization (v0.7.0 Regression)...
  [PASS] ApplyDefaultsToEngine initializes critical fields
  [PASS] Apply() transfers all Preset fields to FFBEngine
  [PASS] UpdateFromEngine() captures all FFBEngine fields
  [PASS] Round-trip Apply->UpdateFromEngine->Apply preserves data

--- Persistence & Versioning Test Summary ---
Tests Passed: 97
Tests Failed: 0

=== Running v0.6.28 Persistence Tests (Reordering) ===
Test 1: Load Stops At Presets Header...
[Config] Loaded from test_isolation.ini
Test 2: Save Follows Defined Order...
Test 3: Load Supports Legacy Keys...
[Config] Loaded from test_legacy.ini
Test 4: Structure Includes Comments...

--- Persistence v0.6.28 Test Summary ---
Tests Passed: 16
Tests Failed: 0

=== Running Windows Platform Tests ===

Test: GUID <-> String Conversion (Persistence)
  Serialized: {4D1E55B2-F16F-11CF-88CB-001111000030}
[PASS] match
[PASS] isEmpty

Test: Active Window Title (Diagnostics)
  Current Window: LMUFFB - Antigravity - plan_log_analyzer.md
[PASS] !title.empty()

Test: Config Persistence (Last Device GUID)
[Config] Loading config version: 0.7.3
[Config] Loaded from test_config_win.ini
[PASS] Config::m_last_device_guid == fake_guid

Test: Config Persistence (Always on Top)
[Config] Loading config version: 0.7.3
[Config] Loaded from test_config_top.ini
[PASS] Config::m_always_on_top == true

Test: Window Always on Top Behavior
[PASS] hwnd != NULL
[PASS] (initial_ex_style & WS_EX_TOPMOST) == 0
[PASS] success1 != 0
[PASS] (after_ex_style & WS_EX_TOPMOST) != 0
[PASS] success2 != 0
[PASS] (final_ex_style & WS_EX_TOPMOST) == 0

Test: Preset Management System
[PASS] !Config::presets.empty()
[PASS] p.gain == engine.m_gain
[PASS] p.understeer == engine.m_understeer_effect
[PASS] p.is_builtin == false
[PASS] found

Test: GUI Style Application (Headless)
[PASS] ctx != nullptr
[PASS] abs(bg_r - 0.12f) < 0.001f
[PASS] abs(bg_g - 0.12f) < 0.001f
[PASS] abs(bg_b - 0.12f) < 0.001f
[PASS] header_a == 0.00f
[PASS] abs(accent_r - 0.00f) < 0.001f
[PASS] abs(accent_g - 0.60f) < 0.001f
[PASS] abs(accent_b - 0.85f) < 0.001f

Test: Slider Precision Display (Arrow Key Visibility)
[PASS] result1 != result2
  Filter Width: Q: 2.50 -> Q: 2.51
[PASS] result1 != result2
  Percentage: 100.0%% -> 101.0%%
[PASS] result1 != result2
  Understeer: 50.0%% -> 51.0%%
[PASS] result1 != result2
  Small Range: 0.050 s -> 0.051 s
[PASS] result1 != result2
  Slide Pitch: 1.50x -> 1.51x

Test: Slider Precision Regression (v0.5.1 Fixes)
[PASS] result1 != result2
  Load Cap: 1.50x -> 1.51x
[PASS] result1 != result2
  Target Frequency: 50.0 Hz -> 50.1 Hz
[PASS] result1 == "25.00"
[PASS] result2 == "25.01"
[PASS] result1 != result2
  Understeer Effect: 25.00 -> 25.01
[PASS] before != after
[PASS] before != after
[PASS] before != after
  Step size precision matching verified

Test: Latency Display Regression (v0.4.50 Restoration)
  Testing SoP Smoothing latency calculation...
[PASS] lat_ms_low == 10
[PASS] lat_ms_low < 15
    Low latency: 10 ms (green)
[PASS] lat_ms_high == 30
[PASS] lat_ms_high >= 15
    High latency: 30 ms (red)
[PASS] lat_ms_boundary == 15
[PASS] lat_ms_boundary >= 15
    Boundary latency: 15 ms (red)
  Testing Slip Angle Smoothing latency calculation...
[PASS] slip_ms_low == 10
[PASS] slip_ms_low < 15
    Low latency: 10 ms (green)
[PASS] slip_ms_high == 30
[PASS] slip_ms_high >= 15
    High latency: 30 ms (red)
[PASS] slip_ms_boundary == 15
[PASS] slip_ms_boundary >= 15
    Boundary latency: 15 ms (red)
  Testing color coding logic...
[PASS] is_green
[PASS] r == 0.0f && g == 1.0f && b == 0.0f && a == 1.0f
[PASS] is_red
[PASS] r == 1.0f && g == 0.0f && b == 0.0f && a == 1.0f
    Color coding verified
  Testing display format...
[PASS] display_ok == "Latency: 14 ms - OK"
[PASS] display_high == "Latency: 20 ms - High"
    Format OK: Latency: 14 ms - OK
    Format High: Latency: 20 ms - High
  Testing edge cases...
[PASS] lat_ms_zero == 0
[PASS] lat_ms_max == 100
[PASS] slip_ms_zero == 0
    Edge cases verified

Test: Window Config Persistence (Size/Position/State)
  RUNNING PERSISTENCE ASSERTIONS
[Config] Loading config version: 0.7.3
[Config] Loaded from test_config_window.ini
[PASS] Config::win_pos_x == 250
[PASS] Config::win_pos_y == 350
[PASS] Config::win_w_small == 600
[PASS] Config::win_h_small == 900
[PASS] Config::win_w_large == 1500
[PASS] Config::win_h_large == 950
[PASS] Config::show_graphs == true

Test: Single Source of Truth - Default Consistency (v0.5.12)
  Test 1: Captured reference defaults from Preset struct
  Test 2: FFBEngine initialization consistency...
[PASS] engine.m_understeer_effect == reference_defaults.understeer
[PASS] engine.m_sop_effect == reference_defaults.sop
[PASS] engine.m_oversteer_boost == reference_defaults.oversteer_boost
[PASS] engine.m_lockup_enabled == reference_defaults.lockup_enabled
[PASS] engine.m_lockup_gain == reference_defaults.lockup_gain
[PASS] engine.m_slide_texture_enabled == reference_defaults.slide_enabled
[PASS] engine.m_slide_texture_gain == reference_defaults.slide_gain
[PASS] engine.m_slide_freq_scale == reference_defaults.slide_freq
[PASS] engine.m_scrub_drag_gain == reference_defaults.scrub_drag_gain
[PASS] engine.m_rear_align_effect == reference_defaults.rear_align_effect
[PASS] engine.m_sop_yaw_gain == reference_defaults.sop_yaw_gain
[PASS] engine.m_gyro_gain == reference_defaults.gyro_gain
[PASS] engine.m_optimal_slip_angle == reference_defaults.optimal_slip_angle
[PASS] engine.m_slip_angle_smoothing == reference_defaults.slip_smoothing
[PASS] engine.m_sop_smoothing_factor == reference_defaults.sop_smoothing
[PASS] engine.m_yaw_accel_smoothing == reference_defaults.yaw_smoothing
[PASS] engine.m_chassis_inertia_smoothing == reference_defaults.chassis_smoothing
[PASS] engine.m_gyro_smoothing == reference_defaults.gyro_smoothing
[PASS] engine.m_steering_shaft_smoothing == reference_defaults.steering_shaft_smoothing
    FFBEngine initialization matches reference
  Test 3: Default preset consistency...
[PASS] !Config::presets.empty()
[PASS] Config::presets[0].name == "Default"
[PASS] Config::presets[0].is_builtin == true
[PASS] default_preset.understeer == reference_defaults.understeer
[PASS] default_preset.sop == reference_defaults.sop
[PASS] default_preset.oversteer_boost == reference_defaults.oversteer_boost
[PASS] default_preset.lockup_enabled == reference_defaults.lockup_enabled
[PASS] default_preset.lockup_gain == reference_defaults.lockup_gain
    Default preset matches reference
  Test 4: T300 specialized preset verification...
[PASS] Config::presets.size() > 1
[PASS] Config::presets[1].name == "T300"
[PASS] t300_preset.understeer == 0.5f
[PASS] abs(t300_preset.sop - 0.425003f) < 0.0001f
[PASS] t300_preset.lockup_freq_scale == 1.02f
[PASS] t300_preset.scrub_drag_gain == 0.0462185f
[PASS] default_preset.understeer != t300_preset.understeer
[PASS] default_preset.sop != t300_preset.sop
    T300 preset specialization verified (Decoupled from Defaults)
  Test 5: Preset application consistency...
[Config] Applied preset: Default
[PASS] engine1.m_understeer_effect == engine2.m_understeer_effect
[PASS] engine1.m_sop_effect == engine2.m_sop_effect
[PASS] engine1.m_oversteer_boost == engine2.m_oversteer_boost
[PASS] engine1.m_lockup_gain == engine2.m_lockup_gain
[PASS] engine1.m_slide_texture_gain == engine2.m_slide_texture_gain
[PASS] engine1.m_scrub_drag_gain == engine2.m_scrub_drag_gain
[PASS] engine1.m_rear_align_effect == engine2.m_rear_align_effect
[PASS] engine1.m_sop_yaw_gain == engine2.m_sop_yaw_gain
[PASS] engine1.m_gyro_gain == engine2.m_gyro_gain
[PASS] engine1.m_optimal_slip_angle == engine2.m_optimal_slip_angle
[PASS] engine1.m_slip_angle_smoothing == engine2.m_slip_angle_smoothing
[PASS] engine1.m_sop_smoothing_factor == engine2.m_sop_smoothing_factor
[PASS] engine1.m_yaw_accel_smoothing == engine2.m_yaw_accel_smoothing
[PASS] engine1.m_chassis_inertia_smoothing == engine2.m_chassis_inertia_smoothing
    Both initialization paths produce identical results
  Test 6: No config file scenario...
[Config] No config found, using defaults.
[PASS] engine.m_understeer_effect == reference_defaults.understeer
[PASS] engine.m_sop_effect == reference_defaults.sop
[PASS] engine.m_lockup_gain == reference_defaults.lockup_gain
    Fresh install scenario verified
  [SUMMARY] Single source of truth verified across all initialization paths!

Test: Config Persistence (Braking Group)
[Config] Loading config version: 0.7.3
[Config] Loaded from test_config_brake.ini
[PASS] engine_load.m_brake_load_cap == 2.5f
[PASS] engine_load.m_lockup_start_pct == 8.0f
[PASS] engine_load.m_lockup_full_pct == 20.0f
[PASS] engine_load.m_lockup_rear_boost == 2.0f

Test: Legacy Config Migration (Load Cap)
[Config] Loaded from test_config_legacy.ini
[PASS] engine.m_texture_load_cap == 1.8f

Test: Icon Presence (Build Artifact)
  Exe Dir: C:\dev\personal\LMUFFB\build\tests\Release
  [PASS] Found artifact at: C:\dev\personal\LMUFFB\build\tests\Release/../../lmuffb.ico
  [PASS] Valid ICO header detected (00 00 01 00)

Test: GameConnector Lifecycle (Disconnect/Reconnect)
  Initial State: Disconnected
[PASS] after_disconnect == false
[PASS] connect_result == false
[PASS] GameConnector::Get().IsConnected() == false

Test: GameConnector Thread Safety (Stress Test)
  [PASS] GameConnector survived stress test without crashing.

----------------

=== Windows Platform Test Summary ===
Tests Passed: 130
Tests Failed: 0

=== Running Composite Screenshot Tests ===

Test: Console Window Capture
[PASS] consoleWindow != NULL
[DEBUG] GetWindowRect returned: left=0, top=0, right=14, bottom=14
[DEBUG] Final calculated dimensions: 14x14
[DEBUG] Capture successful using: PrintWindow without flags
[PASS] success
[PASS] width > 0
[PASS] height > 0
[PASS] !buffer.empty()
  Captured console: 14x14 pixels
[PASS] IsValidRGBAFormat(buffer, width, height)
  [PASS] RGBA format verified
  [SKIP] Console appears minimized/iconified (14x14), skipping content check

Test: Invalid Window Handle
[DEBUG] CaptureWindowToBuffer failed: Invalid window handle
[PASS] !success
  [PASS] NULL handle rejected
[DEBUG] CaptureWindowToBuffer failed: Invalid window handle
[PASS] !success
  [PASS] Invalid handle rejected

Test: Buffer Size Calculation
[PASS] consoleWindow != NULL
[DEBUG] GetWindowRect returned: left=0, top=0, right=14, bottom=14
[DEBUG] Final calculated dimensions: 14x14
[DEBUG] Capture successful using: PrintWindow without flags
[PASS] success
  Expected: 784 bytes
  Actual: 784 bytes
[PASS] buffer.size() == expectedSize
  [PASS] Buffer size correct

Test: Multiple Captures Consistency
[PASS] consoleWindow != NULL
[DEBUG] GetWindowRect returned: left=0, top=0, right=14, bottom=14
[DEBUG] Final calculated dimensions: 14x14
[DEBUG] Capture successful using: PrintWindow without flags
[PASS] success1
[DEBUG] GetWindowRect returned: left=0, top=0, right=14, bottom=14
[DEBUG] Final calculated dimensions: 14x14
[DEBUG] Capture successful using: PrintWindow without flags
[PASS] success2
[PASS] width1 == width2
[PASS] height1 == height2
[PASS] buffer1.size() == buffer2.size()
  Capture 1: 14x14
  Capture 2: 14x14
  [PASS] Dimensions consistent across captures

Test: BGRA to RGBA Conversion
[PASS] consoleWindow != NULL
[DEBUG] GetWindowRect returned: left=0, top=0, right=14, bottom=14
[DEBUG] Final calculated dimensions: 14x14
[DEBUG] Capture successful using: PrintWindow without flags
[PASS] success
  [SKIP] Console appears minimized/iconified, skipping color data check

Test: Window Dimensions Validation
[PASS] consoleWindow != NULL
[DEBUG] GetWindowRect returned: left=0, top=0, right=14, bottom=14
[DEBUG] Final calculated dimensions: 14x14
[DEBUG] Capture successful using: PrintWindow without flags
[PASS] success
[PASS] width == expectedWidth
[PASS] height == expectedHeight
  Window rect: 14x14
  Captured: 14x14
  [PASS] Dimensions match window rect

Test: Regression - Console Window Capture with BitBlt Fallback (v0.6.5)
[PASS] consoleWindow != NULL
[DEBUG] GetWindowRect returned: left=0, top=0, right=14, bottom=14
[DEBUG] Final calculated dimensions: 14x14
[DEBUG] Capture successful using: PrintWindow without flags
[PASS] success
  Console captured: 14x14 pixels
[PASS] !buffer.empty()
[PASS] width > 0
[PASS] height > 0
[PASS] buffer.size() == expectedSize
  [PASS] Console window captured successfully with fallback method

Test: Regression - Pseudo-Console Window Detection (v0.6.5)
[PASS] consoleWindow != NULL
  Console window visible: NO
[PASS] gotRect
  GetWindowRect dimensions: 14x14
  [PASS] Normal console window with valid dimensions

Test: Regression - Console Font Size Fallback (v0.6.5)
  Final font size: 8x16
[PASS] fontWidth > 0
[PASS] fontHeight > 0
[PASS] fontWidth >= 4 && fontWidth <= 32
[PASS] fontHeight >= 8 && fontHeight <= 32
  [PASS] Font size fallback working correctly

Test: Regression - Window Enumeration for Console (v0.6.5)
  [SKIP] Could not get console buffer info

=== Screenshot Test Summary ===
Tests Passed: 44
Tests Failed: 0


=== Gui Interaction Tests ===
[PASS] Float Decorator Execution
[PASS] Result default values

==============================================
           COMBINED TEST SUMMARY              
==============================================
  TOTAL PASSED : 590
  TOTAL FAILED : 0
==============================================
