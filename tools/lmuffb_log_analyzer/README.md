# lmuFFB Log Analyzer

A Python-based diagnostic tool for analyzing telemetry logs generated by lmuFFB.

## Features

- **Session Info:** Extract driver, vehicle, track, and application settings.
- **Slope Analysis:** Analyze the stability and performance of the slope detection algorithm.
- **Oscillation Detection:** Find periods where FFB signals oscillate rapidly.
- **Visualizations:** Generate time-series plots, tire curves, and statistical distributions.
- **Diagnostic Reports:** Generate comprehensive text reports with detected issues and warnings.

## Installation

1. Ensure you have Python 3.8+ installed.
2. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

## Usage

The tool is designed as a CLI with several subcommands.

### Display Session Info
```bash
python -m lmuffb_log_analyzer.cli info path/to/log.csv
```

### Run Slope Analysis
```bash
python -m lmuffb_log_analyzer.cli analyze path/to/log.csv
```

### Generate Diagnostic Plots
```bash
python -m lmuffb_log_analyzer.cli plots path/to/log.csv --output ./plots --all
```

### Generate Full Text Report
```bash
python -m lmuffb_log_analyzer.cli report path/to/log.csv --output report.txt
```

### Batch Process a Directory
```bash
python -m lmuffb_log_analyzer.cli batch path/to/log_directory --output ./results
```

Runs `info`, `analyze`, `plots`, and `report` for all `.csv` files in the specified directory.

## Plot Types

- **Timeseries:** Layout of Lat G, Slip Angle, Derivatives, Slope, and Grip Factor.
- **Tire Curve:** Scatter plot of Slip Angle vs Lateral G (requires `calc_slip_angle_front` and `LatAccel`).
- **dAlpha Histogram:** Distribution of slip angle derivative to verify "active" calculation window.

## Development

### Running Tests
```bash
# From the project root
python -m pytest tools/lmuffb_log_analyzer/tests
```
